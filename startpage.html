<!DOCTYPE html>
<html>
<head>
  <title>Act! Premium Cloud Support Utility | Start Page</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
</head>
<body>
<script>
    // On page load, read /resources/data/jenkinsEnvironments.xml for the list of Jenkins environments that are available to connect to.
    $(document).ready(loadJenkinsEnvironmentsXml());

    function loadJenkinsEnvironmentsXml() {
        var pageLoc = window.location.href;
        var pageContainer = pageLoc.substring(0, pageLoc.lastIndexOf('/'));

        $.ajax({
            type: "GET",
            url: pageContainer + "/resources/data/jenkinsEnvironments.xml",
            async:true,
            dataType: "xml",
            success: (function(data){
                readJenkinsEnvironmentsXml(data);
            })
        });
    }

    function readJenkinsEnvironmentsXml(xmlData){
        var environmentList = [];

        $(xmlData).find('environment').each(function(){
            var name = $(this).find("name").text(),
                id = $(this).find("id").text(),
                isProduction = $(this).find("isProduction").text(),
                url = $(this).find("url").text();

            environmentList[environmentList.length] = ({name:name, id:id, isProduction:isProduction, url:url});
        });
    }
</script>
<h1>
  Welcome to the Act! Premium Cloud Support Utility
</h1>

</body>
</html>
